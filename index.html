<!DOCTYPE html>
<html>

<head>
  <title>TV FLUX</title>
  <!-- Compiled and minified CSS -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1,user-scalable=0" />
  <!-- Compiled and minified JavaScript -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.98.0/js/materialize.min.js"></script>
  <link rel="stylesheet" href="main.css">
  <script type="module" src="https://unpkg.com/x-frame-bypass"></script>
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/handlebars.js/4.0.12/handlebars.min.js">
  </script>

  <script type="text/javascript">
    $(document).ready(function () {
      $.getJSON('https://v2-api.sheety.co/1c0174d5b32dbebdf6f1e14d6ba67a4f/projectFlux/all', function (data) {
        var template = Handlebars.compile($('#item-template').html())
        $('#items1').html(template(data.all))
      })
    })
  </script>

  <script id="item-template" type="text/x-handlebars-template">

    {{#each this}}
  

          <a href="#">
            <button class="filterdiv {{location}}" onclick="document.getElementById('playback').src='https://projectFlux.netlify.com/{{viewer}}'">
            
       <div class="channel">
{{name}}
         </div>
       </button>
       </a>
      {{/each}}
      
  </script>
  <script type="text/javascript">
    $(document).ready(function () {
      $.getJSON('https://v2-api.sheety.co/1c0174d5b32dbebdf6f1e14d6ba67a4f/projectFlux/sports', function (data) {
        var template = Handlebars.compile($('#item-template2').html())
        $('#items2').html(template(data.sports))
      })
    })
  </script>

  <script id="item-template2" type="text/x-handlebars-template">

    {{#each this}}
  

          <a class="filterdiv {{location}}" href="#">
            <button onclick="x='{{channelUrl}}';channelopen()">
            
       <div class="channel">
{{name}}
         </div>
       </button>
       </a>
      {{/each}}
      
  </script>
  <script type="text/javascript">
    $(document).ready(function () {
      $.getJSON('https://v2-api.sheety.co/1c0174d5b32dbebdf6f1e14d6ba67a4f/projectFlux/news', function (data) {
        var template = Handlebars.compile($('#item-template3').html())
        $('#items3').html(template(data.news))
      })
    })
  </script>

  <script id="item-template3" type="text/x-handlebars-template">

    {{#each this}}
  

          <a class="filterdiv {{location}}" href="#">
            <button onclick="x='{{channelUrl}}';channelopen()">
            
       <div class="channel">
{{name}}
         </div>
       </button>
       </a>
      {{/each}}
      
  </script>
  <script type="text/javascript">
    $(document).ready(function () {
      $.getJSON('https://v2-api.sheety.co/1c0174d5b32dbebdf6f1e14d6ba67a4f/projectFlux/kids', function (data) {
        var template = Handlebars.compile($('#item-template4').html())
        $('#items4').html(template(data.kids))
      })
    })
  </script>

  <script id="item-template4" type="text/x-handlebars-template">

    {{#each this}}
  

          <a class="filterdiv {{location}}" href="#">
            <button onclick="x='{{channelUrl}}';channelopen()">
            
       <div class="channel">
{{name}}
         </div>
       </button>
       </a>
      {{/each}}
      
  </script>
</head>

<body>
  <nav>
    <div class="logo-container"><img src="/Branding/tvflux logo.svg"></div>
  </nav>
  <div class="playback-container">


    <iframe id="playback">
      <h2>Loading...</h2>
    </iframe>
  </div>
  <script>
    function channelopen() {

      document.getElementById("playback").innerHTML = "<iframe  is='x-frame-bypass' src='https:" + x +
        '\xa0\xa0\xa0\xa0\xa0\xa0\xa0' + "''> </iframe>";
      console.log("<iframe is='x-frame-bypass' src='https:" + x +
        '\xa0\xa0\xa0\xa0\xa0\xa0\xa0' + "'> </iframe>")
    }
  </script>

  <ul class="tabs">
    <li class="tab col s3"><a href="#all">All</a></li>
    <li class="tab col s3 "><a href="#sports">Sports</a></li>
    <li class="tab col s3"><a href="#news">News</a></li>
    <li class="tab col s3" ><a href="#kids"><button onclick="filterSelection('TKids')">Kids</button></a></li>

  </ul>
  <div id="all" class="col s12 blue"><div id="items1"></div></div>
  <div id="sports" class="col s12 red">
    <div id="items2"></div>
  </div>

   
    <div id="news" class="col s12 green">
      <div id="items3"></div>
    </div>
    <div id="kids" class="col s12 green">
      <div id="items4"></div>
    </div>
    <script>
      $(document).ready(function () {
        $('ul.tabs').tabs({
          swipeable: true,
          responsiveThreshold: 375
        });
      });
    </script>

</body>

</html>